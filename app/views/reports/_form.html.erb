<% if @report.errors.any? %>
    <% @report.errors.full_messages.each do |error| %>
        <p class="msg text-danger bg-danger"><%= error %></p>
    <% end %>
<% end %>

<div class="form-group required">
  <%= f.label :name, class: 'col-sm-2 control-label' %>
  <div class="col-sm-10">
    <%= f.text_field :name, class: 'form-control' %>
  </div>
</div>

<div class="form-group required">
  <%= f.label :start_date, class: 'col-sm-2 control-label' %>
  <div class="col-sm-10">
    <%= f.text_field :start_date, class: 'form-control' %>
  </div>
</div>

<div class="form-group required">
  <%= f.label :end_date, class: 'col-sm-2 control-label' %>
  <div class="col-sm-10">
    <%= f.text_field :end_date, class: 'form-control' %>
  </div>
</div>

<div class="form-group required">
  <%= f.label :metrics, class: 'col-sm-2 control-label' %>
  <div class="col-sm-10">
    <%= f.select :metrics, options_from_collection_for_select(@metrics, 'value', 'name', @report.metrics), {},
                 { multiple: true, style: 'width: 100%;' } %>
  </div>
</div>

<div class="form-group">
  <%= f.label :dimensions, class: 'col-sm-2 control-label' %>
  <div class="col-sm-10">
    <%= f.select :dimensions, options_from_collection_for_select(@dimensions, 'value', 'name', @report.dimensions), {},
                 { multiple: true, style: 'width: 100%' } %>
  </div>
</div>

<script>
    $( function() {
        $( "#report_start_date" ).datepicker();
        $( "#report_end_date" ).datepicker();
        var selectedMetrics = $("#report_metrics").val();
        $( "#report_metrics" ).select2({val: selectedMetrics});
        var selectedDimensions = $("#report_dimensions").val();
        $( "#report_dimensions" ).select2({val: selectedDimensions});
    } );
</script>